import{r as e,w as t,o as r,c as a,a as n,t as o,b as l,d as s,e as i,f as d,i as c,g as u,h as p,F as m,j as h,k,p as f,l as g,m as v,n as w,T as b,q as x,s as y,u as C,v as L,x as V,y as S}from"./vendor.3cf0a002.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(r){const a=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((r,o)=>{const l=new URL(e,a);if(self[t].moduleMap[l])return r(self[t].moduleMap[l]);const s=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){o(new Error(`Failed to import: ${e}`)),n(i)},onload(){r(self[t].moduleMap[l]),n(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/hexschool-bootstrap5-21-search/assets/");const U="hexschool-bootstrap5-21",$={set(e,t){let r=window.localStorage.getItem(U);r=r?JSON.parse(r):{},r[e]=t,window.localStorage.setItem(U,JSON.stringify(r))},get(e,t){let r=window.localStorage.getItem(U);if(!r)return t;r=JSON.parse(r);return r[e]?r[e]:t}},D=[{value:"done",label:"我有寫作業了 😁"},{value:"none",label:"你才沒寫作業 😭"}],j={name:"VDarkModeSwitch",emits:["update:modelValue"],setup(){const r=e($.get("darkMode",!1));return t(r,(e=>{document.querySelector("body").classList.toggle("dark",e),$.set("darkMode",e)}),{immediate:!0}),{isDark:r}}};j.render=function(e,t,l,s,i,d){return r(),a("div",{class:"p-2 cursor-pointer select-none",onClick:t[1]||(t[1]=e=>s.isDark=!s.isDark)},[n("p",null,o(s.isDark?"🌙":"🌞"),1)])};const T={name:"TheHeader",components:{VDarkModeSwitch:j}},B={class:"bg-white dark:bg-dark-800 py-4 sm:py-5 shadow text-xl sm:text-2xl md:text-3xl"},_={class:"container px-5"},M={class:"flex items-center justify-between"},I=n("a",{href:"https://forms.gle/cbYW3oH7WYsX7n3WA",target:"_blank",rel:"noreferrer noopener",title:"報名了？該交作業囉！"},[n("h1",{class:"font-bold"}," 21 天 Bootstrap 5 實戰營 誰沒寫作業 ")],-1);T.render=function(e,t,o,s,i,d){const c=l("v-dark-mode-switch");return r(),a("header",B,[n("div",_,[n("div",M,[I,n(c)])])])};const H={name:"TheFooter"},E={class:"bottom-0 py-4 bg-primary-800 dark:bg-dark-900 text-white"},N=n("div",{class:"container "},[n("a",{class:"block text-center hover:text-gray-200",href:"https://chupai.github.io/",target:"_blank",rel:"noreferrer noopener",title:"竹白記事本"}," 竹白記事本 - 學習中紀錄過程，留下走過痕跡 ")],-1);H.render=function(e,t,n,o,l,s){return r(),a("footer",E,[N])};const O={name:"UserList"},W={class:"grid gap-4 grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 items-start"};O.render=function(e,t,n,o,l,i){return r(),a("ul",W,[s(e.$slots,"default")])};const q={name:"UserItemLink",props:{url:{type:String,default:""}},setup(e){const t=i(e,"url");return{clickHandler:e=>{""===t.value&&(e.preventDefault(),alert("抱歉，沒提供作業連結"))}}}};q.render=function(e,t,n,o,l,i){return r(),a("a",{class:"\n      font-cursive p-1 select-none text-sm text-primary-600 hover:text-primary-400\n      dark:text-primary-200 dark:hover:text-primary-100\n    ",target:"_blank",rel:"noreferrer noopener",href:n.url,onClick:t[1]||(t[1]=(...e)=>o.clickHandler&&o.clickHandler(...e))},[s(e.$slots,"default")],8,["href"])};const z={name:"UserItemLike",components:{},props:{value:{type:Boolean}},emits:["update:value"]},F=n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"\n        M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969\n        0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755\n        1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176\n        0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1\n        1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1\n        1 0 00.951-.69l1.519-4.674z"},null,-1);z.render=function(e,t,n,o,l,s){return r(),a("div",{class:"cursor-pointer p-2 rounded-full hover:text-primary-200",title:"追蹤我",onClick:t[1]||(t[1]=t=>e.$emit("update:value",!n.value))},[(r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",class:["w-6 h-6",{"fill-current text-primary-500 dark:text-primary-50":n.value}],fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[F],2))])};const P={name:"UserItem",components:{UserItemLink:q,UserItemLike:z},props:{user:{type:Object,required:!0}},setup(e){const t=i(e,"user"),r=d((()=>0===t.value.doneCount)),a=d((()=>5===t.value.doneCount)),n=c("statisticalData"),o=d((()=>a.value?"完成":t.value.doneCount/5*100+"%")),l=d((()=>{if(r.value)return"該寫作業囉！";return`你目前的進度排名在前 ${(100*(n.doneList[t.value.doneCount]/n.allCount)).toFixed(2)}%`}));return{WEEK_COUNT:5,progress:o,isNone:r,isAllDone:a,rankMessage:l,updateLiked:e=>{t.value.isLiked=e;const{id:r}=t.value;let a=$.get("likeList",[]);a=a.filter((e=>e!==r)),e&&a.push(r),$.set("likeList",a)}}}},R={class:"flex justify-between items-center"},A={key:0,class:"mt-2 grid grid-rows-3 grid-flow-col grid-cols-2 gap-1"};P.render=function(e,t,s,i,d,c){const f=l("user-item-like"),g=l("user-item-link");return r(),a("li",{class:["\n     px-4 py-4 rounded-md shadow-xl dark:bg-dark-800\n    ",[s.user.isLiked?"bg-white":"bg-gray-50"]]},[n("div",null,[n("div",R,[n("h3",{class:"tooltip text-2xl font-bold leading-none flex items-center","data-tooltip":i.rankMessage},[i.isNone?u("",!0):(r(),a("span",{key:0,class:["px-4 mr-2 rounded-full select-none text-base font-normal text-white",{"bg-primary-400 dark:bg-primary-800":1===s.user.doneCount,"bg-primary-500 dark:bg-primary-700":2===s.user.doneCount,"bg-primary-600 dark:bg-primary-600":3===s.user.doneCount,"bg-primary-700 dark:bg-primary-500":4===s.user.doneCount,"bg-primary-800 dark:bg-primary-400":5===s.user.doneCount}]},o(i.progress),3)),p(" "+o(s.user.name),1)],8,["data-tooltip"]),n(f,{value:s.user.isLiked,"onUpdate:value":i.updateLiked},null,8,["value","onUpdate:value"])]),i.isNone?u("",!0):(r(),a("ul",A,[(r(!0),a(m,null,h(i.WEEK_COUNT,(e=>(r(),a("li",{key:e},[n(g,{url:s.user[`week${e}Url`],class:{"pointer-events-none":!s.user[`week${e}`]}},{default:k((()=>[p(o(`Week${e}:${s.user[`week${e}`]||""}`),1)])),_:2},1032,["url","class"])])))),128))]))])],2)};const J={name:"UserTabs",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup:()=>({TAB_LIST:D})},K=v();f("data-v-0eab4c05");const Y={class:"flex justify-between space-x-5 mb-5"};g();const X=K(((e,t,l,s,i,d)=>(r(),a("nav",null,[n("ul",Y,[(r(!0),a(m,null,h(s.TAB_LIST,(t=>(r(),a("li",{key:t.value,class:["flex-grow p-2 md:p-5 cursor-pointer rounded-xl\n          text-xl md:text-3xl font-bold text-center text-white text-opacity-80\n          hover:bg-primary-700 dark:hover:bg-dark-800\n        ",{"is-active":l.modelValue===t.value}],onClick:r=>e.$emit("update:modelValue",t.value)},o(t.label),11,["onClick"])))),128))])]))));J.render=X,J.__scopeId="data-v-0eab4c05";const G={name:"VProgress",props:{percent:{type:Number,default:0},percentText:{type:String,default:""},pivotText:{type:String,default:"百分比"},showPercent:{type:Boolean,default:!0},showPivot:{type:Boolean,default:!0},digits:{type:Number,default:2}}},Q={class:"relative mb-1"},Z={class:"\n        flex item-center justify-between items-center mb-1\n        text-sm text-primary-600 dark:text-primary-300\n      "},ee={key:0},te={key:1},re={class:"overflow-hidden h-2 rounded-full bg-primary-200 dark:bg-primary-800"};G.render=function(e,t,l,s,i,d){return r(),a("div",Q,[n("div",Z,[l.showPivot?(r(),a("span",ee,o(l.pivotText),1)):u("",!0),l.showPercent?(r(),a("span",te,o(l.percentText||l.percent.toFixed(l.digits)+" %"),1)):u("",!0)]),n("div",re,[n("div",{style:{width:l.percent+"%"},class:"h-full bg-primary-600 dark:bg-primary-300"},null,4)])])};const ae={name:"UserStatistics",components:{VProgress:G},setup:()=>({statisticalData:c("statisticalData")})},ne={class:"bg-white dark:bg-dark-800 rounded-xl mb-5 p-5 shadow"};ae.render=function(e,t,o,s,i,d){const c=l("v-progress");return r(),a("ul",ne,[n("li",null,[n(c,{percent:s.statisticalData.doneCount/s.statisticalData.allCount*100,"pivot-text":`至少繳交一份的人數：${s.statisticalData.doneCount}`,"percent-text":`報名總人數：${s.statisticalData.allCount}`},null,8,["percent","pivot-text","percent-text"])]),(r(!0),a(m,null,h(s.statisticalData.weekList,((e,t)=>(r(),a("li",{key:t},[n(c,{percent:e/s.statisticalData.doneCount*100,"pivot-text":`week${t+1}：${e}`},null,8,["percent","pivot-text"])])))),128))])};const oe={name:"ScrollButtons",components:{},props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup:()=>({clickHandler:()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}})},le=v();f("data-v-7f87b246");const se={class:"flex flex-col space-y-2 fixed right-5 bottom-5 z-50"},ie=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"\n        M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969\n        0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755\n        1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176\n        0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1\n        1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1\n        1 0 00.951-.69l1.519-4.674z"})],-1),de=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7l4-4m0 0l4 4m-4-4v18"})],-1);g();const ce=le(((e,t,o,l,s,i)=>(r(),a(b,{to:"body"},[n("div",se,[n("a",{href:"",title:"我的追蹤",class:["btn",{"!bg-opacity-100":"like"===o.modelValue}],onClick:t[1]||(t[1]=w((t=>e.$emit("update:modelValue","like")),["prevent"]))},[ie],2),n("a",{title:"電梯向上",class:"btn",onClick:t[2]||(t[2]=w(((...e)=>l.clickHandler&&l.clickHandler(...e)),["prevent"]))},[de])])]))));oe.render=ce,oe.__scopeId="data-v-7f87b246";const ue={name:"VSearchButton",components:{},props:{modelValue:{type:String,required:!0}},emits:["update:modelValue","handler"]},pe={class:"flex items-center p-2 bg-white rounded-full dark:bg-dark-800"},me=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1);ue.render=function(e,t,o,l,s,i){return r(),a("div",pe,[n("button",{type:"button",class:"\n        flex-shrink flex justify-center items-center w-10 h-10 mr-2\n        appearance-none rounded-full hover:bg-primary-500 hover:text-white\n        focus:outline-none active:bg-primary-700\n        transition-colors duration-500",onClick:t[1]||(t[1]=t=>e.$emit("handler"))},[me]),n("input",x(e.$attrs,{type:"text",class:"\n        block flex-grow h-10 px-3 tracking-wider rounded-r-full\n        appearance-none placeholder-gray-400 bg-white text-lg\n        focus:outline-none focus:bg-gray-50 focus:placeholder-gray-100\n        dark:bg-dark-800 dark:focus:bg-dark-900\n      ",onInput:t[2]||(t[2]=t=>e.$emit("update:modelValue",t.target.value)),onKeyup:t[3]||(t[3]=y((t=>e.$emit("handler")),["enter"]))}),null,16)])};const he={name:"VLoading",props:{modelValue:{type:Boolean,required:!0},text:{type:String,default:""}}},ke={key:0,class:"\n      fixed top-0 left-0 w-full h-full\n      flex justify-center items-center bg-white dark:bg-dark-800 opacity-75 z-50\n    "},fe=n("svg",{class:"animate-spin h-32 w-32 text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2\n            5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\n          "})],-1);he.render=function(e,t,n,o,l,s){return r(),a(b,{to:"body"},[n.modelValue?(r(),a("div",ke,[fe])):u("",!0)])};async function ge(e){const t=await fetch("https://raw.githubusercontent.com/hexschool/live-bootstrap5-21-api/master/data.json"),r=await t.json();e.all=r,function(e){const t=$.get("likeList",[]);e.forEach(((e,r)=>{let a=0;for(let t=1;t<=5;t+=1)e[`week${t}`]&&(a+=1);e.doneCount=a,e.id=r,t.includes(e.id)?e.isLiked=!0:e.isLiked=!1}))}(e.all),e.none=e.all.filter((e=>0===e.doneCount)),e.done=e.all.filter((e=>0!==e.doneCount)),e.done.sort(((e,t)=>t.doneCount-e.doneCount))}const ve={name:"App",components:{VLoading:he,TheHeader:T,TheFooter:H,UserList:O,UserItem:P,UserTabs:J,UserStatistics:ae,ScrollButtons:oe,VSearchButton:ue},setup(){const r=e(!1),a=C({all:[],none:[],done:[],search:[],like:[]}),n=C({allCount:0,doneCount:0,weekList:[0,0,0,0,0],doneList:[0,0,0,0,0,0]});V("statisticalData",n),L((async()=>{r.value=!0,await ge(a),function(e,t){e.allCount=t.all.length,e.doneCount=t.done.length;const{weekList:r,doneList:a}=e;t.all.forEach((e=>{r.forEach(((t,a)=>{e[`week${a+1}`]&&(r[a]+=1)})),a[e.doneCount]+=1}))}(n,a),r.value=!1}));const o=e("done"),l=e("");return t(o,(e=>{if("like"===e){const e=$.get("likeList",[]);a.like=a.all.filter((t=>e.includes(t.id)))}})),{tabState:o,userData:a,searchWord:l,statisticalData:n,searchUser:()=>{a.search=[],a.search=function(e,t,r){if(""===r)return[];const a=new RegExp(r.trim(),"iu");return e.filter((e=>e[t].match(a)))}(a.all,"name",l.value),o.value="search"},isLoading:r}}},we={class:"vld-parent"},be={class:"py-5"},xe={class:"container px-5"},ye={class:"mb-5 min-h-screen"},Ce={class:"container px-5"};ve.render=function(e,t,o,s,i,d){const c=l("the-header"),u=l("user-statistics"),p=l("v-search-button"),f=l("user-tabs"),g=l("user-item"),v=l("user-list"),w=l("the-footer"),b=l("scroll-buttons"),x=l("v-loading");return r(),a("div",we,[n(c),n("section",be,[n("div",xe,[n(u),n(p,{modelValue:s.searchWord,"onUpdate:modelValue":t[1]||(t[1]=e=>s.searchWord=e),placeholder:"請輸入名字",onHandler:s.searchUser},null,8,["modelValue","onHandler"])])]),n("main",ye,[n("div",Ce,[n(f,{modelValue:s.tabState,"onUpdate:modelValue":t[2]||(t[2]=e=>s.tabState=e)},null,8,["modelValue"]),n(v,null,{default:k((()=>[(r(!0),a(m,null,h(s.userData[s.tabState],(e=>(r(),a(g,{key:e.id,user:e},null,8,["user"])))),128))])),_:1})])]),n(w),n(b,{modelValue:s.tabState,"onUpdate:modelValue":t[3]||(t[3]=e=>s.tabState=e)},null,8,["modelValue"]),n(x,{modelValue:s.isLoading,"onUpdate:modelValue":t[4]||(t[4]=e=>s.isLoading=e)},null,8,["modelValue"])])};S(ve).mount("#app");
